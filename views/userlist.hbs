<!DOCTYPE html>
<html>
<head>
	<title> Admin's User List </title>
	<link rel = "icon" href = "../images/favicon.ico" type = "image/x-icon"/>
	<link rel = "stylesheet" href = "../css/page.css">
	<link rel = "stylesheet" href = "../css/nav-bar.css">
	<link rel = "stylesheet" href = "../css/profile.css">
    <link rel=  "stylesheet" href=  "../css/admin.css">
</head>
<body>
	<div class = "nav-bar"> 
        <form method="get" action="/back">
			<input type="submit" value="Back to Profile" onclick="hideSpans()" class ="admin-back">
		</form>
	</div>

    <p class ="header" id ="first_header"> Username </p>
    <p class ="header" id ="email"> Email </p>
    <p class ="header" id ="fname" > First Name </p>
    <p class ="header" id ="lname"> Last Name </p>
    <p class ="header" id ="phone"> Phone </p>

    {{#each .}}
        <p class ="item" id ="first_item"> {{username}} </p>
        <p class ="item" id ="email"> {{email}} </p>
        <p class ="item" id ="fname" > {{firstName}}</p>
        <p class ="item" id ="lname"> {{lastName}} </p>
        <p class ="item" id ="phone"> {{phone}} </p>
    {{/each}}

    <script>
		function hideSpans() {
			document.getElementById('same_Username').style.display = 'none';
			document.getElementById('wrong_Phonenumber').style.display = 'none';
		}
		
		document.addEventListener('DOMContentLoaded', function() {
			// Check query parameters in the URL
			const params = new URLSearchParams(window.location.search);
			if (params.get('usernameExist') === 'true') {
				// Show the username exist span message
				document.getElementById('same_Username').style.display = 'block';
			}
			if (params.get('invalidPhoneNumber') === 'true') {
				// Show the invalid phone number span message
				document.getElementById('wrong_Phonenumber').style.display = 'block';
			}
			if (params.get('wrongPassword') === 'true') {
				// Show the username exist span message
				document.getElementById('invalid_password').style.display = 'block';
			}
		});
	</script>
</body>
</html>

